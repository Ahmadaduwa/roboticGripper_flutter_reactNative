# Teaching Mode - Quick Start Guide

## ภาพรวม (Overview)

ระบบ Teaching Mode ช่วยให้คุณสร้างและจัดการลำดับการเคลื่อนไหวของหุ่นยนต์กริปเปอร์โดยไม่ต้องเขียนโค้ด

## การเริ่มต้นใช้งาน

### 1. เปิดหน้า Teaching Mode
- คลิกที่แท็บ "Teaching" ในแอป

### 2. สร้าง Pattern ใหม่
1. คลิกปุ่ม "CREATE NEW PATTERN"
2. ใส่ชื่อ Pattern (เช่น "Pick and Place")
3. ใส่คำอธิบาย (ถ้าต้องการ)
4. คลิก "Create"

### 3. เพิ่มขั้นตอนการทำงาน

#### ปุ่ม GRIP (หนีบ)
- กำหนดมุมการหนีบ (เช่น 45°)
- คลิกปุ่ม GRIP สีส้ม
- ขั้นตอนจะถูกเพิ่มเข้าไปในรายการ

#### ปุ่ม RELEASE (คลาย)
- กำหนดมุมการคลาย (เช่น 90°)
- คลิกปุ่ม RELEASE สีน้ำเงิน
- ขั้นตอนจะถูกเพิ่มเข้าไปในรายการ

#### การรอ (Wait)
- กำหนดเวลารอเป็นวินาที (เช่น 1.0)
- คลิกปุ่ม "ADD WAIT"

### 4. จัดการขั้นตอน

#### ลบขั้นตอน
- คลิกไอคอนถังขยะที่ขั้นตอนที่ต้องการลบ

#### เปลี่ยนลำดับ
- คลิกลูกศรขึ้น ↑ เพื่อย้ายขั้นตอนขึ้น
- คลิกลูกศรลง ↓ เพื่อย้ายขั้นตอนลง

#### ลบทั้งหมด
- คลิกปุ่ม "Clear All" สีแดง
- ยืนยันการลบ

### 5. ทดสอบการทำงาน

1. คลิกปุ่ม "PLAY SEQUENCE" สีเขียว
2. ระบบจะรันขั้นตอนทีละขั้นตามลำดับ
3. ขั้นตอนที่กำลังทำงานจะแสดงสีเขียว
4. รอจนกว่าจะเสร็จสิ้น

### 6. บันทึก Pattern

1. ตรวจสอบว่าทุกขั้นตอนถูกต้อง
2. คลิกปุ่ม "SAVE PATTERN" สีน้ำเงินเข้ม
3. Pattern จะถูกบันทึกลงฐานข้อมูล
4. กลับไปหน้ารายการ Pattern

## ฟีเจอร์เพิ่มเติม

### แก้ไข Pattern ที่มีอยู่
1. คลิกที่ Pattern ในรายการ
2. แก้ไขขั้นตอนตามต้องการ
3. คลิก "SAVE PATTERN" อีกครั้ง

### ลบ Pattern
1. คลิกไอคอนถังขยะที่ Pattern
2. ยืนยันการลบ

### ซิงค์กับเซิร์ฟเวอร์
- คลิกไอคอน Sync (⟳) ที่มุมบนขวา
- รอจนกว่าการซิงค์จะเสร็จสิ้น

## ตัวอย่างการใช้งาน

### ตัวอย่างที่ 1: Pick and Place พื้นฐาน

```
1. RELEASE (90°)    - เปิดกริปเปอร์
2. Wait (0.5s)      - รอให้เปิดสมบูรณ์
3. GRIP (45°)       - หนีบวัตถุ
4. Wait (1.0s)      - รอให้หนีบแน่น
5. RELEASE (90°)    - ปล่อยวัตถุ
```

### ตัวอย่างที่ 2: Stacking

```
1. GRIP (40°)       - หนีบชิ้นแรก
2. Wait (1.0s)      - รอ
3. RELEASE (90°)    - วางลง
4. Wait (0.5s)      - รอ
5. GRIP (40°)       - หนีบชิ้นที่สอง
6. Wait (1.0s)      - รอ
7. RELEASE (90°)    - วางทับ
```

## เคล็ดลับและคำแนะนำ

### การตั้งค่ามุม

#### มุมการหนีบ (Grip)
- **45°** - หนีบแน่นมาก (วัตถุหนัก)
- **60°** - หนีบปานกลาง
- **75°** - หนีบเบา (วัตถุบอบบาง)

#### มุมการคลาย (Release)
- **90°** - เปิดเต็มที่
- **80°** - เปิดปานกลาง

### เวลารอ (Wait)

- **0.5s** - สำหรับการเคลื่อนไหวเร็ว
- **1.0s** - ค่ามาตรฐาน
- **2.0s** - สำหรับการทำงานที่ต้องการความแม่นยำ

### ข้อควรระวัง

⚠️ **อย่าลืม:**
- ทดสอบ Pattern ก่อนบันทึกเสมอ
- ตรวจสอบว่ากริปเปอร์ไม่หนีบแน่นเกินไป
- ใช้เวลารอที่เหมาะสม
- บันทึกบ่อยๆ เพื่อป้องกันการสูญหายของข้อมูล

## การแก้ปัญหา

### Pattern ไม่ทำงาน
1. ตรวจสอบการเชื่อมต่อกับหุ่นยนต์
2. ตรวจสอบว่าค่ามุมถูกต้อง
3. ตรวจสอบลำดับขั้นตอน

### บันทึกไม่สำเร็จ
1. ตรวจสอบว่าชื่อ Pattern ไม่ซ้ำกัน
2. ตรวจสอบว่ามีขั้นตอนอย่างน้อย 1 ขั้นตอน

### ซิงค์ล้มเหลว
1. ตรวจสอบการเชื่อมต่ออินเทอร์เน็ต
2. ตรวจสอบว่าเซิร์ฟเวอร์ทำงานอยู่
3. ลองใหม่อีกครั้งหลังสักครู่

## โครงสร้างไฟล์ที่เกี่ยวข้อง

```
lib/
├── models/
│   ├── pattern.dart           # โมเดล Pattern
│   └── pattern_step.dart      # โมเดล Step
├── providers/
│   └── teaching_provider.dart # การจัดการ State
├── screens/
│   └── teaching_screen.dart   # UI หลัก
└── services/
    ├── api_service.dart       # API calls
    └── database_service.dart  # SQLite operations
```

## API Endpoints ที่ใช้

- `POST /api/teach/record` - บันทึกขั้นตอน
- `GET /api/teach/buffer` - ดึงข้อมูล buffer
- `POST /api/teach/save` - บันทึก Pattern
- `POST /api/teach/execute` - รัน Pattern
- `GET /api/patterns` - ดึงรายการ Pattern
- `DELETE /api/patterns/{id}` - ลบ Pattern
- `POST /api/robot/gripper` - ควบคุมกริปเปอร์

## คำถามที่พบบ่อย (FAQ)

**Q: สามารถมี Pattern กี่อันได้?**
A: ไม่จำกัดจำนวน (ขึ้นอยู่กับพื้นที่เก็บข้อมูล)

**Q: สามารถแก้ไข Pattern ที่บันทึกแล้วได้ไหม?**
A: ได้ เพียงคลิกที่ Pattern แล้วแก้ไขตามต้องการ

**Q: Pattern จะหายไหมถ้าไม่มีอินเทอร์เน็ต?**
A: ไม่หาย Pattern ถูกเก็บในฐานข้อมูลภายในเครื่อง

**Q: สามารถใช้ Pattern เดียวกันซ้ำได้ไหม?**
A: ได้ เพียงเปิด Pattern แล้วกด PLAY ได้ตลอด

**Q: สามารถส่งออก Pattern ให้เพื่อนได้ไหม?**
A: ยังไม่ได้ในเวอร์ชันปัจจุบัน (จะมีในอนาคต)

---

**เวอร์ชัน**: 1.0.0  
**อัปเดตล่าสุด**: 10 มกราคม 2026  
**ติดต่อสอบถาม**: support@roboticgripper.com
